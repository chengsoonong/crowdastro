%!TeX program=xelatex
\documentclass[11pt]{book}

\usepackage{caption}
\usepackage[palatino]{anuthesis}
\usepackage{graphicx}
\usepackage{thesis}
\usepackage{makeidx}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[numbers]{natbib}
\usepackage{wrapfig}
\usepackage[usenames,dvipsnames]{pstricks}
\usepackage[algoruled]{algorithm2e}
\usepackage{subcaption}
\usepackage{tikz}

\usepackage[T1]{fontenc}
\usepackage{fontspec}
\usepackage{xparse}
% The Palatino package gives a pretty terrible look to the PDF when compiling on
% Windows, so we need to use fontspec instead. Palatino Linotype exists on
% Windows but not on Mac (where Palatino exists instead). So...
\suppressfontnotfounderror1
\def\myfont{Palatino}
\def\myfallback{Palatino Linotype}
\count255=\interactionmode
\batchmode
\font\foo="\myfont"\space at 10pt
\ifx\foo\nullfont
  \font\foo = "\myfallback"\space at 10pt
  \ifx\foo\nullfont
    \errorstopmode
    \errmessage{no suitable font found}
  \else
    \let\myfont=\myfallback
  \fi
\fi
\interactionmode=\count255
\setmainfont{\myfont}

\usetikzlibrary{arrows}

% hyperref setup taken from Aladair Tran's thesis:
% github.com/chengsoonong/mclass-sky
\hypersetup{
    bookmarksnumbered,
    colorlinks   = true,
    urlcolor     = {blue!80!black},
    linkcolor    = {red!50!black},
    citecolor    = {blue!50!black},
}

\SetKwProg{WithProb}{with probability}{ do}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Preamble.

\title{Learning from Crowd Labels\\ to find Black Holes}
\author{Matthew Alger}
\date{\today}

\renewcommand{\thepage}{\roman{page}}

\makeindex
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Title page.

\pagestyle{empty}
\thispagestyle{empty}
\input{titlepage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Preliminaries.

\input{frontmatter}

% % Dedication.

% \cleardoublepage
% \pagestyle{empty}
% \input{dedication}

% Acknowledgements.

\cleardoublepage
\pagestyle{empty}
\input{ack}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Abstract.

\cleardoublepage
\pagestyle{headings}
\input{abstract}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Table of contents.

\cleardoublepage
\pagestyle{headings}
\markboth{Contents}{Contents}
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Main text.

\mainmatter

%% Chapters
% \input{0_misc}
\input{1_intro}
\input{2_astro}
\input{3_ml}
\input{4_cross_identification}
\input{5_active}

%% Conclusion
\input{conclusion}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% End text.

\input{appendix_crowdastro}

\backmatter

\todo{Verify that I didn't break anything by using natbib.}

\nocite{*}
% \bibliographystyle{acmnew-xref}
\bibliographystyle{plainnat}
\bibliography{../papers}

\printindex

\end{document}
